# –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (Achievements System)

## –û–±–∑–æ—Ä

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–∞—Å—Ç–µ—Ä–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –≤—ã–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º –∏–≥—Ä–æ–∫–æ–≤ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π. –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º, –∞ –Ω–µ –∫ –∏–≥—Ä–æ–∫–∞–º, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∫–∞–º D&D, –≥–¥–µ –æ–ø—ã—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è —É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (v2.0)

### üéØ –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º
- **–î–û**: –ê—á–∏–≤–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–ª–∏—Å—å –∫ –∏–≥—Ä–æ–∫–∞–º (userId)
- **–°–ï–ô–ß–ê–°**: –ê—á–∏–≤–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º (characterId)
- **–ü–†–ò–ß–ò–ù–ê**: –í D&D –æ–ø—ã—Ç –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂—É, –∞ –Ω–µ –∏–≥—Ä–æ–∫—É
- **–û–ë–†–ê–¢–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨**: –°—Ç–∞—Ä—ã–µ –∞—á–∏–≤–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "–ù–µ —É–∫–∞–∑–∞–Ω" –≤–º–µ—Å—Ç–æ

### üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞—á–∏–≤–∫–∏
- –ö—Ä–∞—Å–∏–≤–æ–µ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ WebSocket

### üé® –£–ª—É—á—à–µ–Ω–Ω—ã–π UI
- **–ú–∞—Å—Ç–µ—Ä**: –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º –º–µ–∂–¥—É –∏–º–µ–Ω–µ–º
- **–ò–≥—Ä–æ–∫**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ–≥–æ –∞—á–∏–≤–æ–∫, –Ω–∞–∫–æ–ø–ª–µ–Ω–æ XP, –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã)
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### Achievement (–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ)

- **name**: –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (string)
- **description**: –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (text)
- **icon**: –ò–∫–æ–Ω–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (enum –∏–∑ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞: üèÜ‚≠êüèÖüåüüéØüíéüî•‚ö°üëëüõ°Ô∏è)
- **xpReward**: –ù–∞–≥—Ä–∞–¥–∞ –≤ –æ—á–∫–∞—Ö –æ–ø—ã—Ç–∞ (integer, –º–æ–∂–µ—Ç –±—ã—Ç—å 0)
- **roomId**: ID –∫–æ–º–Ω–∞—Ç—ã, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑–∞–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- **createdById**: ID —Å–æ–∑–¥–∞—Ç–µ–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–º–∞—Å—Ç–µ—Ä–∞)
- **createdAt**: –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- **updatedAt**: –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **deletedAt**: –î–∞—Ç–∞ –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è (null –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ)
- **totalGiven**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑, –∫–æ–≥–¥–∞ —ç—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –±—ã–ª–æ –≤—ã–¥–∞–Ω–æ (–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ)

### PlayerAchievement (–í—ã–¥–∞–Ω–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ)

- **achievementId**: ID –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- **userId**: ID –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã–¥–∞–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- **characterId**: ID –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ ‚≠ê **–ù–û–í–û–ï**
- **grantedById**: ID –º–∞—Å—Ç–µ—Ä–∞, –≤—ã–¥–∞–≤—à–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- **grantedAt**: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –≤—ã–¥–∞—á–∏
- **achievement**: –°–≤—è–∑–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ (include)
- **character**: –°–≤—è–∑–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ (include) ‚≠ê **–ù–û–í–û–ï**

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –º–∞—Å—Ç–µ—Ä–∞

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä—É –∫–æ–º–Ω–∞—Ç—ã
- –í—ã–±–æ—Ä –æ–¥–Ω–æ–π –∏–∑ 10 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ (–≤–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä)
- –£–∫–∞–∑–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≥—Ä–∞–¥—ã –≤ XP
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –ø—Ä–µ–≤—å—é –∏–∫–æ–Ω–∫–∏

#### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ –∫–æ–º–Ω–∞—Ç–µ
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏)
- –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤—ã–¥–∞—á

#### 3. –í—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- **–í–´–ë–û–† –ü–ï–†–°–û–ù–ê–ñ–ê**: –ú–∞—Å—Ç–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ ‚≠ê **–ò–ó–ú–ï–ù–ï–ù–û**
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å, –∏–º—è –∏–≥—Ä–æ–∫–∞
- –¢–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–∞–º –∫–æ–º–Ω–∞—Ç—ã
- –ù–µ–ª—å–∑—è –≤—ã–¥–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Å–∞–º–æ–º—É —Å–µ–±–µ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –≤—ã–¥–∞–ª –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

**–í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚öîÔ∏è –•–∞—Ä–ª–∞–º–ø–∏–π            ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ ‚Üê –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
‚îÇ –ò–≥—Ä–æ–∫: player@email.com ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 4. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –í—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –∫–æ–º–Ω–∞—Ç–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ, –ø–æ–ª—É—á–∏–≤—à–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏

### –î–ª—è –∏–≥—Ä–æ–∫–∞

#### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è" —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π:
  - **–í—Å–µ–≥–æ –∞—á–∏–≤–æ–∫**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - **–ù–∞–∫–æ–ø–ª–µ–Ω–æ XP**: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ XP –∏–∑ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - **–ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ, –¥–∞—Ç–µ –≤—ã–¥–∞—á–∏ –∏ –Ω–∞–≥—Ä–∞–¥–µ XP
- –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –∏–∫–æ–Ω–∫–∞–º–∏, –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –¥–µ—Ç–∞–ª—è–º–∏

#### 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞—á–∏–≤–∫–∏ ‚≠ê **–ù–û–í–û–ï**
- **Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞
  - –ò–∫–æ–Ω–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
  - –ò–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  - –ù–∞–≥—Ä–∞–¥–∞ XP
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
- **–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "üèÜ –ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!"
  - –¢–µ–∫—Å—Ç: "–ü–µ—Ä—Å–æ–Ω–∞–∂ [–ò–º—è] –ø–æ–ª—É—á–∏–ª achievement: [–ù–∞–∑–≤–∞–Ω–∏–µ]"

## WebSocket —Å–æ–±—ã—Ç–∏—è

### achievement-granted ‚≠ê **–ù–û–í–û–ï**
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–≥—Ä–æ–∫—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:

```typescript
{
  achievement: {
    id: string,
    name: string,
    description: string,
    icon: AchievementIcon,
    xpReward: number,
    ...
  },
  character: {
    id: string,
    name: string
  },
  grantedAt: string (ISO datetime)
}
```

**–ö–æ–º–Ω–∞—Ç–∞**: `user:{userId}` - –ª–∏—á–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞ –∏–≥—Ä–æ–∫–∞

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –î–ª—è –º–∞—Å—Ç–µ—Ä–∞
1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí "–ú–æ–∏ –∫–æ–º–Ω–∞—Ç—ã" ‚Üí –í—ã–±—Ä–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É ‚Üí **"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—á–∏–≤–∫–∞–º–∏"**
2. URL: `/room/:roomId/achievements`

### –î–ª—è –∏–≥—Ä–æ–∫–∞
1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí **"–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è"**
2. –ò–∑ –∫–æ–º–Ω–∞—Ç—ã: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–º–Ω–∞—Ç—ã ‚Üí **"–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è"** (–∫–Ω–æ–ø–∫–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤)
3. URL: `/achievements`

## –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –ò–∫–æ–Ω–∫–∏
–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–∑ 10 –∏–∫–æ–Ω–æ–∫:
- üèÜ –¢—Ä–æ—Ñ–µ–π
- ‚≠ê –ó–≤–µ–∑–¥–∞
- üèÖ –ú–µ–¥–∞–ª—å
- üåü –°–∏—è—é—â–∞—è –∑–≤–µ–∑–¥–∞
- üéØ –ú–∏—à–µ–Ω—å
- üíé –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç
- üîî (–∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ üî•) –û–≥–æ–Ω—å
- ‚ö° –ú–æ–ª–Ω–∏—è
- üëë –ö–æ—Ä–æ–Ω–∞
- üõ°Ô∏è –©–∏—Ç

–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∏–∫–æ–Ω–æ–∫ –≤ `ACHIEVEMENT_ICONS`.

### –û–ø—ã—Ç (XP)
- –ü–æ–ª–µ `xpReward` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–∞–∂–¥–æ–π –∞—á–∏–≤–∫–µ
- –ì–æ—Ç–æ–≤–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π —É—Ä–æ–≤–Ω–µ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å XP –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É

### –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ XP** –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞—á–∏–≤–∫–∏
2. **–°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–≥–æ XP
3. **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π)
4. **–†–æ–ª–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ —Ä–∞—Å
5. **–ì—Ä—É–ø–ø–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è** –¥–ª—è –≤—Å–µ–π –ø–∞—Ä—Ç–∏–∏
6. **–°–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π** –∏ —Å–µ—Ç–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
1. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**: –¢–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä –∫–æ–º–Ω–∞—Ç—ã
2. **–í—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π**: –¢–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä –∫–æ–º–Ω–∞—Ç—ã
3. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ**: –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å (–º–∞—Å—Ç–µ—Ä) –∫–æ–º–Ω–∞—Ç—ã
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä**: –ú–∞—Å—Ç–µ—Ä –≤–∏–¥–∏—Ç –≤—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ –∞—á–∏–≤–∫–∏ –≤ –∫–æ–º–Ω–∞—Ç–µ, –∏–≥—Ä–æ–∫ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –º–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–æ–º–Ω–∞—Ç–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–∂ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∏–≥—Ä–æ–∫—É –∫–æ–º–Ω–∞—Ç—ã
- ‚úÖ –ù–µ–ª—å–∑—è –≤—ã–¥–∞—Ç—å –∞—á–∏–≤–∫—É —Å–∞–º–æ–º—É —Å–µ–±–µ
- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API Endpoints

```
POST   /api/achievements/rooms/:roomId
       - –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä)

GET    /api/achievements/rooms/:roomId
       - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∫–æ–º–Ω–∞—Ç—ã

GET    /api/achievements/rooms/:roomId/achievements/:achievementId
       - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

PUT    /api/achievements/rooms/:roomId/achievements/:achievementId
       - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä)

DELETE /api/achievements/rooms/:roomId/achievements/:achievementId
       - –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä)

POST   /api/achievements/rooms/:roomId/grant
       - –í—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂—É (—Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä)
       - Body: { achievementId, userId, characterId }

GET    /api/achievements/me/achievements
       - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–≤–æ–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

GET    /api/achievements/rooms/:roomId/player-achievements
       - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ –∫–æ–º–Ω–∞—Ç–µ (—Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

**Backend**:
- `src/controllers/achievementController.ts` - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã API
- `src/services/achievementService.ts` - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- `src/routes/achievements.ts` - –†–æ—É—Ç—ã Express

**Frontend**:
- `src/components/MasterAchievementsPage.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–∞—Å—Ç–µ—Ä–∞
  - –°–æ–∑–¥–∞–Ω–∏–µ –∞—á–∏–≤–æ–∫
  - –í—ã–¥–∞—á–∞ –∞—á–∏–≤–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º
  - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—ã–¥–∞–Ω–Ω—ã—Ö –∞—á–∏–≤–æ–∫
- `src/components/PlayerAchievementsPage.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–≥—Ä–æ–∫–∞
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - –°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∞—á–∏–≤–æ–∫
- `src/components/AchievementCard.tsx` - –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `src/components/PlayerAchievementCard.tsx` - –ö–∞—Ä—Ç–æ—á–∫–∞ –≤—ã–¥–∞–Ω–Ω–æ–π –∞—á–∏–≤–∫–∏
- `src/contexts/SocketContext.tsx` - WebSocket –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

#### 2025-01-29_add_achievements_tables.sql
–°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã Achievement –∏ PlayerAchievement.

#### 2025-01-29_add_character_to_player_achievement ‚≠ê **–ù–û–í–û–ï**
–î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `characterId` –≤ PlayerAchievement:
- `characterId` (TEXT, nullable) - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- Foreign key –Ω–∞ —Ç–∞–±–ª–∏—Ü—É Character
- Index –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### Achievement
```sql
CREATE TABLE "Achievement" (
  id          TEXT   PRIMARY KEY,
  name        TEXT   NOT NULL,
  description TEXT   NOT NULL,
  icon        TEXT   NOT NULL,
  xpReward    INTEGER DEFAULT 0,
  roomId      TEXT   NOT NULL,
  createdById TEXT   NOT NULL,
  createdAt   TIMESTAMP DEFAULT NOW(),
  updatedAt   TIMESTAMP DEFAULT NOW(),
  deletedAt   TIMESTAMP NULL,

  FOREIGN KEY (roomId) REFERENCES "Room"(id),
  FOREIGN KEY (createdById) REFERENCES "User"(id)
);
```

### PlayerAchievement
```sql
CREATE TABLE "PlayerAchievement" (
  id            TEXT   PRIMARY KEY,
  achievementId TEXT   NOT NULL,
  userId        TEXT   NOT NULL,
  characterId   TEXT,          -- ‚≠ê –ù–û–í–û–ï: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  grantedById   TEXT   NOT NULL,
  grantedAt     TIMESTAMP DEFAULT NOW(),

  FOREIGN KEY (achievementId) REFERENCES "Achievement"(id),
  FOREIGN KEY (characterId) REFERENCES "Character"(id) ON DELETE CASCADE
);

CREATE INDEX "PlayerAchievement_characterId_idx" ON "PlayerAchievement"("characterId");
CREATE INDEX "PlayerAchievement_userId_idx" ON "PlayerAchievement"("userId");
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä: –í—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. –ú–∞—Å—Ç–µ—Ä –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–Ω–∞—Ç—ã
2. –ù–∞–∂–∏–º–∞–µ—Ç "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—á–∏–≤–∫–∞–º–∏"
3. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–ì–µ—Ä–æ–π –±–∏—Ç–≤—ã"
   - –û–ø–∏—Å–∞–Ω–∏–µ: "–£—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —ç–ø–∏—á–Ω–æ–π –±–∏—Ç–≤–µ —Å –¥—Ä–∞–∫–æ–Ω–æ–º"
   - –ò–∫–æ–Ω–∫–∞: üêâ (–ª—é–±–∞—è –∏–∑ 10)
   - XP: 100
4. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–í—ã–¥–∞–Ω–Ω—ã–µ –∞—á–∏–≤–∫–∏"
5. –í—ã–±–∏—Ä–∞–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞ (–≤–∏–∑—É–∞–ª—å–Ω–æ)
6. –í—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ (–≤–∏–¥–∏—Ç: –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ | –∏–º—è –∏–≥—Ä–æ–∫–∞)
7. –ù–∞–∂–∏–º–∞–µ—Ç "–í—ã–¥–∞—Ç—å –∞—á–∏–≤–∫—É"
8. –ò–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç:
   - ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
   - ‚úÖ –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–∏–ª)
   - ‚úÖ –ê—á–∏–≤–∫–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –µ–≥–æ —Å–ø–∏—Å–æ–∫

### –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ò–≥—Ä–æ–∫**:
1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Üí "–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è"
2. –í–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
   - üèÜ 15 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - ‚≠ê 1250 XP
   - üéÆ 3 –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã
3. –°–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å:
   - –ò–∫–æ–Ω–∫–æ–π
   - –ù–∞–∑–≤–∞–Ω–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º
   - –ò–º–µ–Ω–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
   - XP –Ω–∞–≥—Ä–∞–¥–æ–π
   - –î–∞—Ç–æ–π –ø–æ–ª—É—á–µ–Ω–∏—è

## –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π v2.0

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| üîó –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º | –ê—á–∏–≤–∫–∏ —Ç–µ–ø–µ—Ä—å –≤—ã–¥–∞—é—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º, –∞ –Ω–µ –∏–≥—Ä–æ–∫–∞–º |
| üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket |
| üé® –ù–æ–≤—ã–π UI | –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ |
| üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—á–∏–≤–æ–∫, XP, –∫–æ–º–Ω–∞—Ç—ã |
| ‚ú® –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | characterId –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ |
| üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π |

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–∞–ª—å–Ω–µ–π—à–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏ –æ–ø—ã—Ç–∞ –∏ —É—Ä–æ–≤–Ω–µ–π D&D!
